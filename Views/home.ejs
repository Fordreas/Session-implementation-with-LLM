<%- include('header') %>

<header>
  <h1>üîê Session MVC App</h1>
</header>

<main>
  <div class="container">
    <h2>Welcome</h2>
    
    <% if (error) { %>
      <div class="error"><%= error %></div>
    <% } %>

    <div class="tabs">
      <button class="tab active" onclick="showTab('login')">Login</button>
      <button class="tab" onclick="showTab('register')">Register</button>
    </div>

    <!-- Login Form -->
    <div id="login" class="tab-content active">
      <form action="/login" method="POST">
        <div class="form-group">
          <label for="login-username">Username</label>
          <input type="text" id="login-username" name="username" required>
        </div>

        <div class="form-group">
          <label for="login-password">Password</label>
          <input type="password" id="login-password" name="password" required>
        </div>

        <button type="submit">Login</button>
      </form>
    </div>

    <!-- Register Form -->
    <div id="register" class="tab-content">
      <form action="/register" method="POST">
        <div class="form-group">
          <label for="register-username">Username *</label>
          <input type="text" id="register-username" name="username" required>
        </div>

        <div class="form-group">
          <label for="register-email">Email *</label>
          <input type="email" id="register-email" name="email" required>
        </div>

        <div class="form-group">
          <label for="register-password">Password *</label>
          <input type="password" id="register-password" name="password" required>
        </div>

        <div class="form-group">
          <label for="register-firstname">First Name</label>
          <input type="text" id="register-firstname" name="firstname">
        </div>

        <div class="form-group">
          <label for="register-lastname">Last Name</label>
          <input type="text" id="register-lastname" name="lastname">
        </div>

        <button type="submit">Register</button>
      </form>
    </div>
  </div>
</main>

<footer>
  <p>&copy; 2026 Session MVC App. All rights reserved.</p>
</footer>

<script>
  function showTab(tabName) {
    // Hide all tab contents
    const tabContents = document.querySelectorAll('.tab-content');
    tabContents.forEach(content => content.classList.remove('active'));

    // Deactivate all tabs
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(tab => tab.classList.remove('active'));

    // Show selected tab content
    document.getElementById(tabName).classList.add('active');

    // Activate selected tab
    event.target.classList.add('active');
  }
</script>

<%- include('footer') %>
